<!doctype html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

	<title>I do stuff. You probably don't care.</title>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"></meta>
	<meta http-equiv="cache-control" content="no-cache">
	<meta name="robots" content="index, follow"></meta>
	<meta name="distribution" content="global"></meta>
	<meta name="description" content="Younes BENAOMAR. Developper."></meta>
	<meta name="keywords" content="personal,graphic design, photography, younes benaomar"></meta>
	
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0" />
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
    
	<link rel="stylesheet" media="screen" type="text/css" href="/stylesheets/styles.css" />
		
  <link href='http://fonts.googleapis.com/css?family=Josefin+Slab' rel='stylesheet' type='text/css' />
  <script type="text/javascript" src="http://use.typekit.com/jmp4lkh.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
  <script type="text/javascript" src="/javascripts/modernizr.custom.61709.js"></script>
  
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33129420-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>


<body>


     <div id="wrap"></div>
    
    <ul>
        <li>
            <div id="home">
            </div>
        </li>
        <li>
            <div id="about" class="about box">
              <div class="content">
                
               	<span class="title">I design and develop interactive things.</span>
                
                <span class="details">
                  I love writing and thinking in code and i deeply appreciate all top of the edge, kick ass, interactive stuff.<br/>
                  I like modern graphic design, typography and grids, electronic music, i love programming and experimenting with new technologies
                  </span>
              </div>
              
            </div>
        </li>
    </ul>
    
   

<div id="menu">
  <div class="nav">
    <ul>
        <li><a href="javascript:void(0)" data-sequence="about">About</a></li>
    </ul>
    
    <ul id="labnav">
       
			</ul>
  </div>
    
  <div id="share">
    <ul>
  			
        <li><a class="fb" href="https://www.facebook.com/sharer.php?u=http://www.interactive-object.com/" target="_blank" title="Facebook"></a></li>
  			<li><a class="tt" href="https://twitter.com/intent/tweet?text=http://www.interactive-object.com" target="_blank" title="Twitter"></a></li>
        <li><a class="flickr" href="https://twitter.com/intent/tweet?text=http://www.interactive-object.com" target="_blank" title="Flickr"></a></li>
        <li><a class="tumblr" href="https://twitter.com/intent/tweet?text=http://www.interactive-object.com" target="_blank" title="Tumblr"></a></li>        
        
        </ul>
  </div>
  
</div>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

<script type="text/javascript">




var selected, viewer, mainHiden, links = [], wrap = $("#wrap"), sequence;


var data = [

				{
					"id": 1,
					"name": "Street Art",
					"timestamp": "2012/08/07",
					"link": "/lab/streetart/"
				},

				{
					"id": 2,
					"name": "Shared Map",
					"timestamp": "2012/05/03",
					"link": "http://afternoon-moon-6385.herokuapp.com/"
				},
        
        {
					"id": 3,
					"name": "beatbox",
					"timestamp": "2012/05/03",
					"link": "/lab/beatbox/"
				},   
        
        {
					"id": 4,
					"name": "Webcam raster",
					"timestamp": "2012/05/03",
					"link": "/lab/beatbox/"
				}
        
        
   ];
   
   init();
        
function init(){
  
    mainHiden = true;
    
    buildNav();
    
      if ( window.location.pathname == '/' ) {

					loadProject( data[ 0 ] );
				} else {

					var id = /^\/lab\/(\d+)\//.exec( window.location.pathname )[ 1 ]
					for ( var i in data ) {
						if ( data[ i ].id == id ) {
							loadProject( data[ i ] );
							break;
						}
					}
				}
        
        window.addEventListener( 'resize', onResize, false );

        
        
}

function loadProject( data ) {

        
        
				if ( selected ) {
         
          console.log(selected.id,data.id);
          if(selected.id != data.id)
          {
            document.body.removeChild( viewer );
          }else{
            //skip reload current project
            return;
          }
				}

				selected = links[ data.id ];
        selected.id = data.id ;

				document.title = 'Interactive Object | ' + data.name;

				viewer = document.createElement( 'iframe' );
				viewer.name = 'viewer';
				viewer.src = data.link;
				document.body.appendChild( viewer );
        
        viewer.onload= function() {
            
        };
				updateLayout();
        
        hideWrap();

			}

			
      
      
function buildNav() {
  

    for ( var i in data ) {
    
     var current = data[i];
     
      var li = $("<li/>");
				
				
				var link = $("<a href='"+ current.link+"' target='viewer'>"+current.name+"</a>");
        link.data(current);
				li.append( link );
        
        link.click(function ( event ) {

          var data = $(this).data();
          
          if(data.id != selected.id)
          {
          
            selected= event.target;
            selected.id = data.id;
            history.pushState( data, data.name, '/lab/' + data.id + '/' + data.name.replace( /\ /gi, '_' ).replace( /[:.,\'()%]/gi, '' ) );

            if(sequence)
            {
              leaveSequence(sequence);
              sequence = null
            }
            
            hideWrap();
            
            return true;
            
          }else{
          
            return false;
            
          }
        
				});
        
        $('#labnav').append(li);
				links[ current.id ] = link;
         
  }
}




$('a[data-sequence]').click(function (e) {
		var sequence_id = $(e.target).data("sequence");

    // current squence is not null
    if(sequence)
    {
      // lanch animate out transition
      leaveSequence(sequence);
    }
    showWrap();
    enterSequence(sequence_id);
     sequence = sequence_id;
});


function leaveSequence(id){
   $("#"+id).removeClass("animate-in").addClass("animate-out");
   
}


function enterSequence(id){
   $("#"+id).removeClass("animate-out").addClass("animate-in");
}


function showWrap(){
 
  if(!wrap.hasClass("full-wrap"))
  {
    wrap.addClass("full-wrap");
      
      wrap.click(function(){
        wrap.removeClass("full-wrap");
        
        if(sequence)
        {
          leaveSequence(sequence);
          sequence = null
        }
        
      });
  }
}

function hideWrap(){
  wrap.removeClass("full-wrap");
  if(sequence)
  {
    leaveSequence(sequence);
     sequence = null
  }
  sequence = null
}

  
function updateLayout( event ) {

				viewer.style.width = window.innerWidth + 'px';
				viewer.style.height = ( window.innerHeight) + 'px';

			}
      
function onResize( event ) {
  updateLayout();
}
        
</script>



</body>
</html>
